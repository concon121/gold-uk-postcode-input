<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input-behavior.html">
<link rel="import" href="../paper-input/paper-input-container.html">
<link rel="import" href="../paper-input/paper-input-error.html">
<link rel="import" href="../iron-input/iron-input.html">
<link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="postcode-validator.html">

<dom-module id="gold-uk-postcode-input">
    <style>
        :host {
            display: block;
        }
    </style>

    <template>

        <paper-input-container id="container" auto-validate="[[autoValidate]]" attr-for-value="bind-value">

            <label hidden$="[[!label]]">[[label]]</label>

            <postcode-validator></postcode-validator>

            <input is="iron-input" id="input" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" required$="[[required]]" validator="postcode-validator" type="tel" maxlength="10" bind-value="{{value}}" autocomplete="postal-code" name$="[[name]]">

            <template is="dom-if" if="[[errorMessage]]">
                <paper-input-error id="error">[[errorMessage]]</paper-input-error>
            </template>

        </paper-input-container>
    </template>

</dom-module>

<script>
    (function() {
        Polymer({

            is: 'gold-uk-postcode-input',

            behaviors: [
                Polymer.PaperInputBehavior,
                Polymer.IronFormElementBehavior
            ],

            properties: {
                /**
                 * The label for this input.
                 */
                label: {
                    type: String,
                    value: "Postcode"
                }
            }

        })

    })();
</script>
